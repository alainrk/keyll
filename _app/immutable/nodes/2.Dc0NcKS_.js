function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var U=Object.defineProperty;var W=(r,a,n)=>a in r?U(r,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[a]=n;var h=(r,a,n)=>(W(r,typeof a!="symbol"?a+"":a,n),n);import{s as j,e as _,c as S,b as E,f as v,o as k,i as T,M as B,n as R,N as V,r as G,a as H,l as K,g as P,m as J,h as I,O as X,v as Y}from"../chunks/scheduler.BF67GVOu.js";import{S as O,i as F,b as Z,d as $,m as ee,a as te,t as ae,e as se}from"../chunks/index.W2DZ1f3E.js";import{_ as ne}from"../chunks/preload-helper.BQ24v_F8.js";const ie=!0,ye=Object.freeze(Object.defineProperty({__proto__:null,prerender:ie},Symbol.toStringTag,{value:"Module"}));function re(r){let a,n,s;return{c(){a=_("div"),this.h()},l(i){a=S(i,"DIV",{style:!0,class:!0}),E(a).forEach(v),this.h()},h(){k(a,"style",r[0]),k(a,"class","m-0")},m(i,l){T(i,a,l),n||(s=B(r[1].call(null,a)),n=!0)},p(i,[l]){l&1&&k(a,"style",i[0])},i:R,o:R,d(i){i&&v(a),n=!1,s()}}}function he(r,a){return a.forEach(([n,s])=>r[n]=s),r}function oe(r,a,n){let{target:s=void 0}=a,{sketch:i=void 0}=a,{parentDivStyle:l="display: block;"}=a,{debug:g=!1}=a,u;const b=V(),w={ref(){b("ref",s)},instance(){b("instance",u)}};function y(o){return n(2,s=o),{destroy(){n(2,s=void 0)}}}return G(async()=>{const o=await ne(()=>import("../chunks/p5.min.EDYTDBRi.js").then(c=>c.p),__vite__mapDeps([]),import.meta.url),{default:d}=o,p=Object.entries(o).filter(([c,e])=>e instanceof Function&&c[0]!=="_"&&c!=="default");g&&console.log("available p5 native classes",p),u=new d(c=>(c=he(c,p),g&&console.log("p5 instance",c),window._p5Instance=c,i(c)),s),w.ref(),w.instance()}),r.$$set=o=>{"target"in o&&n(2,s=o.target),"sketch"in o&&n(3,i=o.sketch),"parentDivStyle"in o&&n(0,l=o.parentDivStyle),"debug"in o&&n(4,g=o.debug)},[l,y,s,i,g]}class le extends O{constructor(a){super(),F(this,a,oe,re,j,{target:2,sketch:3,parentDivStyle:0,debug:4})}}const de=`
the sky was a tranquil expanse of azure, stretching endlessly above the earth. wisps of clouds drifted lazily, casting fleeting shadows on the landscape below. the sun, a radiant orb of golden light, bathed everything in its warm embrace. a gentle breeze whispered through the trees, causing the leaves to rustle softly. birds chirped merrily, their songs filling the air with a symphony of sound. down below, fields of green stretched out in all directions, interrupted only by the occasional cluster of trees or meandering stream. the earth was alive with the vibrant hues of nature, a patchwork of colors that seemed to dance and sway with the wind. in the distance, mountains rose majestically towards the heavens, their peaks obscured by a veil of mist. their slopes were clothed in lush forests, teeming with life and mystery. streams cascaded down their sides, their waters sparkling like diamonds in the sunlight. far away, on the horizon, the silhouette of a city loomed against the sky. its buildings towered upwards, reaching for the clouds with their towering spires and gleaming facades. the bustle of urban life echoed faintly across the plains, a reminder of the world beyond the wilderness closer at hand, a small village nestled amidst the hills, its cottages quaint and picturesque. smoke curled lazily from their chimneys, carrying with it the scent of wood smoke and home-cooked meals. children played in the streets, their laughter ringing out like bells on the crisp morning air. life here was simple and uncomplicated, governed by the rhythms of nature and the passing of the seasons. each day brought with it new challenges and opportunities, but the villagers faced them with a quiet determination and a sense of community. as the day wore on and the sun began its slow descent towards the horizon, the sky was painted with hues of orange and pink, a breathtaking display of nature's beauty. the world seemed to hold its breath in anticipation of the coming night, a moment of peace and reflection before the darkness descended. and as the first stars began to twinkle in the velvet sky, the village came alive with the glow of lamplight and the sound of laughter and conversation. for here, in this small corner of the world, life went on much as it always had, a timeless cycle of days and nights, seasons and years. and amidst it all, there was a sense of contentment and belonging, a feeling that this was where they were meant to be, here in this place, under this vast and endless sky. the moon hung low in the sky, casting a soft, silver glow over the sleeping world. the night was still and quiet, broken only by the occasional rustle of leaves in the gentle breeze. the stars glittered like diamonds against the velvet darkness, their light shimmering in the vast expanse of space. in the distance, a lone wolf howled mournfully, its voice carrying across the wilderness. it was joined by the chorus of crickets and the hoot of an owl, creating a symphony of sound that echoed through the night. beneath the canopy of trees, the forest was alive with activity. small creatures scurried about, going about their nocturnal routines. a family of deer grazed peacefully in a moonlit clearing, their coats gleaming in the pale light. far away, in the heart of the city, the streets were deserted, save for the occasional car passing by. the buildings rose high into the night sky, their windows aglow with the warm light of civilization. from somewhere deep within the urban sprawl, the faint strains of music drifted on the wind, a reminder of the life that pulsed through the city even in the darkest hours. but here, in this quiet corner of the world, time seemed to stand still. the air was crisp and cool, carrying with it the scent of pine and earth. a sense of peace settled over the landscape, wrapping it in a comforting embrace. as the night wore on, the sky began to lighten in the east, heralding the arrival of a new day. the stars faded into the dawn, their brilliance dimming in the growing light. the world stirred from its slumber, awakening to the promise of another day. and as the first rays of sunlight touched the earth, the forest came alive with the sounds of morning. birds sang joyously, their melodies filling the air with music. the deer raised their heads, alert to the new day dawning. and in the city, the streets began to fill with the hustle and bustle of life, as people went about their daily routines. but here, in this moment between night and day, there was a sense of magic and wonder, a feeling that anything was possible. and as the sun rose higher in the sky, bathing the world in its golden light, the night faded into memory, leaving only the promise of a new beginning. birds began to sing, their melodies filling the air with joyous song. the first rays of sunlight filtered through the trees, painting the forest floor with golden hues. dew glistened on the leaves, sparkling like a thousand tiny diamonds. and as the sun rose higher in the sky, the world came alive with color and movement. flowers bloomed, their petals unfurling to greet the morning sun. insects buzzed busily from blossom to blossom, pollinating the plants and savoring the sweetness of nectar. in the distance, a river flowed lazily, its waters sparkling in the sunlight. fish darted beneath the surface, their sleek forms flashing silver as they swam. on the banks, a heron stood sentinel, its long neck poised for the perfect strike. far above, a hawk soared on the thermals, its keen eyes scanning the landscape below. it circled effortlessly, riding the currents of air with grace and precision. below, a rabbit froze in its tracks, sensing the predator's presence. but the hawk paid it no mind, its focus fixed on the prize below. with a sudden dive, it plummeted towards the earth, talons outstretched. the rabbit darted away at the last moment, narrowly avoiding capture. and so the cycle of life continued, as it always had and always would. each creature playing its part in the intricate tapestry of existence. from the smallest insect to the mightiest predator, all were connected by the thread of life that bound them together. as the day drew to a close and the sun sank below the horizon, the world once again grew quiet. the stars emerged from their daytime hiding places, twinkling brightly in the night sky. and as the moon rose overhead, bathing everything in its silvery light, the world settled into a peaceful slumber, ready to begin anew when the sun rose once again. `;function ue(r){let a,n,s,i,l,g,u,b="Reset",w,y,o;return l=new le({props:{sketch:r[3]}}),{c(){a=_("meta"),n=H(),s=_("div"),i=_("div"),Z(l.$$.fragment),g=H(),u=_("button"),u.textContent=b,this.h()},l(d){const C=K("svelte-1cozuwq",document.head);a=S(C,"META",{name:!0,content:!0}),C.forEach(v),n=P(d),s=S(d,"DIV",{});var p=E(s);i=S(p,"DIV",{id:!0});var c=E(i);$(l.$$.fragment,c),c.forEach(v),g=P(p),u=S(p,"BUTTON",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-19x358v"&&(u.textContent=b),p.forEach(v),this.h()},h(){document.title="Keyll",k(a,"name","description"),k(a,"content","Keyll Touch Typing Trainer"),k(i,"id","game-canvas-parent"),k(u,"class","svelte-5ez4m9")},m(d,C){I(document.head,a),T(d,n,C),T(d,s,C),I(s,i),ee(l,i,null),r[4](i),I(s,g),I(s,u),w=!0,y||(o=X(u,"click",r[5]),y=!0)},p:R,i(d){w||(te(l.$$.fragment,d),w=!0)},o(d){ae(l.$$.fragment,d),w=!1},d(d){d&&(v(n),v(s)),v(a),se(l),r[4](null),y=!1,o()}}}function ce(r,a,n){let s,i;const l="abcdefghijklmnopqrstuvwxyz",g="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u="0123456789",b="!@#$%^&*()_+~-=`{}[]|:;'\"<>,.?/\\",w=new Set(`${l}${g}${u}${b}`.split(""));class y{constructor(t=10){h(this,"queue");h(this,"maxLength");this.queue=[],this.maxLength=t}updateCurrent(t){this.queue.length>0&&(this.queue[this.queue.length-1].hit=t)}addChar(t,x,f=!1){let m;return this.queue.length>0&&(this.queue[this.queue.length-1].current=!1),this.queue.push({char:t,hit:x,upcoming:f,current:!0}),this.queue.length>this.maxLength&&(m=this.queue.shift()),m}getString(){return this.queue.map(t=>t.char).join("")}getLastChar(){return this.queue[this.queue.length-1]}}class o{constructor(t){h(this,"currentIndex");h(this,"text");for(this.text=t,this.currentIndex=Math.floor(Math.random()*this.text.length),console.log("Before:",this.currentIndex);!(this.currentIndex===0||this.currentIndex>0&&this.text[this.currentIndex-1]===" "&&this.text[this.currentIndex]!==" ");)this.increaseIndex();console.log("After:",this.currentIndex)}get current(){return this.text[this.currentIndex]}increaseIndex(){this.currentIndex++,this.currentIndex>=this.text.length&&(this.currentIndex=0)}}class d{constructor(){h(this,"hitCount",0);h(this,"totCount",0);h(this,"missedChar",!1);h(this,"enableLowerCase",!0);h(this,"enableUpperCase",!1);h(this,"enableNumbers",!1);h(this,"enableSpecial",!1);h(this,"availableChars");h(this,"charset");h(this,"mode","text");h(this,"typedCharsQueue");h(this,"promptedCharsQueue");h(this,"upcomingCharsQueue");h(this,"textQueue");this.textQueue=new o(de),this.availableChars=this.createAvailableChars(),this.charset=new Set(this.availableChars.split("")),this.typedCharsQueue=new y(45),this.promptedCharsQueue=new y(11),this.upcomingCharsQueue=new y(10);for(let t=0;t<10;t++)this.mode==="random"?this.upcomingCharsQueue.addChar(this.getRandomCharFromCharSet(),!1,!0):this.mode==="text"&&(this.upcomingCharsQueue.addChar(this.textQueue.current,!1,!0),this.textQueue.increaseIndex());this.updateChar()}get currentChar(){return this.promptedCharsQueue.getLastChar().char}get currentCharIsHit(){return this.promptedCharsQueue.getLastChar().hit}updateChar(){let t;if(this.mode==="random")t=this.upcomingCharsQueue.addChar(this.getRandomCharFromCharSet(),!1,!0);else if(this.mode==="text")this.textQueue.increaseIndex(),t=this.upcomingCharsQueue.addChar(this.textQueue.current,!1,!0);else throw new Error(`Invalid mode: ${this.mode}`);t&&(this.promptedCharsQueue.addChar(t.char,!0),this.totCount++)}handleTypedChar(t){if(t===s.currentChar){this.currentCharIsHit&&this.hitCount++,this.missedChar=!1,this.updateChar(),this.typedCharsQueue.addChar(t,!0),this.promptedCharsQueue.updateCurrent(!0);return}this.missedChar=!0,this.promptedCharsQueue.updateCurrent(!1),w.has(t)&&this.typedCharsQueue.addChar(t,!1)}createAvailableChars(){let t="";return this.enableLowerCase&&(t+=l),this.enableUpperCase&&(t+=g),this.enableNumbers&&(t+=u),this.enableSpecial&&(t+=b),t}getRandomCharFromCharSet(){return this.availableChars[Math.floor(Math.random()*this.availableChars.length)]}}const C=e=>{e.setup=()=>{const t=e.createCanvas(i.clientWidth,e.windowHeight/2);console.log(`Created canvas with size: ${t.width}x${t.height} in element ${i.id}.`),e.noStroke(),e.background(0),e.textFont("Courier New"),e.frameRate(10),n(0,s=new d)},e.draw=()=>{let t=[];const x=(f,m,Q,L=e.LEFT)=>{L===e.RIGHT&&(Q=Q.slice().reverse());var q=f;for(let z=0;z<Q.length;++z){const A=Q[z],M=A[0],N=A[1],D=e.textWidth(M);e.fill(...N),e.text(M,q,m),L===e.LEFT?q+=D:q-=D}};e.background(0),e.fill(255),e.textSize(25),e.text(`Score: ${s.hitCount}/${s.totCount}`,20,40),e.textSize(50),t=[];for(const f of s.promptedCharsQueue.queue){if(f.current)continue;const m=f.hit?[0,200,0,100]:[200,0,0,100];t.push([f.char,m])}x(e.width/2-65,e.height/2+20,t,e.RIGHT),s.missedChar?e.fill(255,0,0):e.fill(255,255,255),e.textSize(100),e.textStyle(e.BOLD),e.text(s.currentChar,e.width/2-e.textWidth(s.currentChar)/2,e.height/2+e.textWidth(s.currentChar)/3),e.textStyle(e.NORMAL),e.textSize(50),t=[];for(const f of s.upcomingCharsQueue.queue){const m=f.hit?[250,250,250,100]:[250,250,250,100];t.push([f.char,m])}x(e.width/2+35,e.height/2+20,t),e.textSize(25),t=[];for(const f of s.typedCharsQueue.queue){const m=f.hit?[0,200,0]:[200,0,0];t.push([f.char,m])}x(20,e.height-20,t)},e.keyPressed=()=>(s.handleTypedChar(e.key),!1)};function p(e){Y[e?"unshift":"push"](()=>{i=e,n(1,i)})}return[s,i,d,C,p,()=>n(0,s=new d)]}class pe extends O{constructor(a){super(),F(this,a,ce,ue,j,{})}}export{pe as component,ye as universal};
